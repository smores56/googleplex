<!-- googleplex/templates/book.html -->

{% extends "overlay.html" %}
{% block title %}{{ bestseller.title }}{% endblock %}
{% block style %}
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="/styles/author.css">
  <link rel="stylesheet" href="/styles/main.css">
{% endblock %}
{% block content %}
  <div class='individual_flex'>
      <h1>{{ bestseller.title }}</h1>
      {% if bestseller.author %}
      By <a href='/author?name={{ bestseller.author.name }}'>{{ bestseller.author.name }}</a>
      {% else %}
      <a>Unknown author</a>
      {% endif %}
      <br>
      {% if bestseller.authored_date %}
      Published {{bestseller.authored_date | datetime_fmt}}
      {% endif %}
      {% if bestseller.description %}<p>{{ bestseller.description }}</p> {% endif %}
      <h3>Lists containing this Bestseller</h3>
      <tbody>
      {%- for list in bestseller.get_lists_with_this_bestseller() -%}
        <tr>
          <td>{{ loop.index }}:</td>
          <td>
              <a href="/list?title={{ list.title }}&id={{ list.id }}">{{ list.title }}</a>
          </td>
        </tr>
        <br>
      {% endfor %}
      </tbody>
      <br>
      <a href="/book_edit?title={{ bestseller.title }}&id={{ bestseller.id }}">
        Edit
      </a>

  </div>
  <!-- About the author section? -->
{% endblock %}
